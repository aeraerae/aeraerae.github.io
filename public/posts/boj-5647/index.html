<!DOCTYPE html>
<html lang="ko" dir="auto">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>BOJ 5647 - 연속 합 | Aerae.zip</title>
<meta name="keywords" content="ps, 정수론, 수학, 백준, boj, 5647">
<meta name="description" content="문제 링크
(2024/7/17 기준) Diamond V
문제 읽기 연속된 정수 구간 $Q$와 연속된 양의 정수 구간 $P$가 있습니다. 연속된 구간 $PQ$에 대하여, 구간 $Q$의 길이 $q$가 주어졌을 때, 구간 $P$의 합과 구간 $Q$의 합이 같을 때의 가능한 $p$가 몇 개나 있을지 세어봅시다.
예시 $\underbrace{9&#43;10&#43;11&#43;12} _{P} = \underbrace{13&#43;14&#43;15} _{Q}$는 $p=4$, $q=3$인 예시입니다.
$\underbrace{4&#43;5&#43;6&#43;7&#43;8} _{P} = \underbrace{9&#43;10&#43;11} _{Q}$은 $p=5$, $q=3$인 예시입니다.
풀이 먼저, $p&gt;q$임을 캐치합시다. 구간 $P$는 항상 구간 $Q$의 왼쪽에 붙어있기 때문에, $p\leq q$라면, 항상 구간 $P$의 합은 구간 $Q$의 합보다 작습니다.">
<meta name="author" content="Aerae">
<link rel="canonical" href="http://localhost:1313/posts/boj-5647/">

<link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96" />
<link rel="icon" type="image/svg+xml" href="/favicon.svg" />
<link rel="shortcut icon" href="/favicon.ico" />
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
<meta name="apple-mobile-web-app-title" content="Aerae.zip" />
<link rel="manifest" href="/site.webmanifest" />
<link crossorigin="anonymous" href="/assets/css/stylesheet.fc220c15db4aef0318bbf30adc45d33d4d7c88deff3238b23eb255afdc472ca6.css" integrity="sha256-/CIMFdtK7wMYu/MK3EXTPU18iN7/MjiyPrJVr9xHLKY=" rel="preload stylesheet" as="style">
<link rel="icon" href="http://localhost:1313/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="http://localhost:1313/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="http://localhost:1313/favicon-32x32.png">
<link rel="apple-touch-icon" href="http://localhost:1313/apple-touch-icon.png">
<link rel="mask-icon" href="http://localhost:1313/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="ko" href="http://localhost:1313/posts/boj-5647/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.css" integrity="sha384-nB0miv6/jRmo5UMMR1wu3Gz6NLsoTkbqJghGIsx//Rlm+ZU03BU6SQNC66uf4l5+" crossorigin="anonymous">
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.js" integrity="sha384-7zkQWkzuo3B5mTepMUcHkMB5jZaolc2xDwL6VFqjFALcbeS9Ggm/Yr2r3Dy4lfFg" crossorigin="anonymous"></script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/contrib/auto-render.min.js" integrity="sha384-43gviWU0YVjaDtb/GhzOouOXtZMP/7XUzwPTstBeZFe/+rCMvRwr4yROQP43s0Xk" crossorigin="anonymous"></script>
<script>
    document.addEventListener("DOMContentLoaded", function() {
        renderMathInElement(document.body, {
          
          
          delimiters: [
              {left: '$$', right: '$$', display: true},
              {left: '$', right: '$', display: false}
          ],
          
          throwOnError : false
        });
    });
</script>

<link rel="stylesheet" as="style" crossorigin href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/variable/pretendardvariable-dynamic-subset.min.css" />
<style>
body {
	font-family: "Pretendard Variable", Pretendard, -apple-system, BlinkMacSystemFont, system-ui, Roboto, "Helvetica Neue", "Segoe UI", "Apple SD Gothic Neo", "Noto Sans KR", "Malgun Gothic", "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", sans-serif;
}

h1 {
	font-weight: 900;
}

h2 {
	font-weight: 800;
}

</style>


  

<meta property="og:title" content="BOJ 5647 - 연속 합" />
<meta property="og:description" content="문제 링크
(2024/7/17 기준) Diamond V
문제 읽기 연속된 정수 구간 $Q$와 연속된 양의 정수 구간 $P$가 있습니다. 연속된 구간 $PQ$에 대하여, 구간 $Q$의 길이 $q$가 주어졌을 때, 구간 $P$의 합과 구간 $Q$의 합이 같을 때의 가능한 $p$가 몇 개나 있을지 세어봅시다.
예시 $\underbrace{9&#43;10&#43;11&#43;12} _{P} = \underbrace{13&#43;14&#43;15} _{Q}$는 $p=4$, $q=3$인 예시입니다.
$\underbrace{4&#43;5&#43;6&#43;7&#43;8} _{P} = \underbrace{9&#43;10&#43;11} _{Q}$은 $p=5$, $q=3$인 예시입니다.
풀이 먼저, $p&gt;q$임을 캐치합시다. 구간 $P$는 항상 구간 $Q$의 왼쪽에 붙어있기 때문에, $p\leq q$라면, 항상 구간 $P$의 합은 구간 $Q$의 합보다 작습니다." />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://localhost:1313/posts/boj-5647/" />
<meta property="og:image" content="http://localhost:1313/images/papermod-cover.png" />
<meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-07-16T20:43:17+09:00" />
<meta property="article:modified_time" content="2024-07-16T20:43:17+09:00" />

<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:image" content="http://localhost:1313/images/papermod-cover.png" />
<meta name="twitter:title" content="BOJ 5647 - 연속 합"/>
<meta name="twitter:description" content="문제 링크
(2024/7/17 기준) Diamond V
문제 읽기 연속된 정수 구간 $Q$와 연속된 양의 정수 구간 $P$가 있습니다. 연속된 구간 $PQ$에 대하여, 구간 $Q$의 길이 $q$가 주어졌을 때, 구간 $P$의 합과 구간 $Q$의 합이 같을 때의 가능한 $p$가 몇 개나 있을지 세어봅시다.
예시 $\underbrace{9&#43;10&#43;11&#43;12} _{P} = \underbrace{13&#43;14&#43;15} _{Q}$는 $p=4$, $q=3$인 예시입니다.
$\underbrace{4&#43;5&#43;6&#43;7&#43;8} _{P} = \underbrace{9&#43;10&#43;11} _{Q}$은 $p=5$, $q=3$인 예시입니다.
풀이 먼저, $p&gt;q$임을 캐치합시다. 구간 $P$는 항상 구간 $Q$의 왼쪽에 붙어있기 때문에, $p\leq q$라면, 항상 구간 $P$의 합은 구간 $Q$의 합보다 작습니다."/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "http://localhost:1313/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "BOJ 5647 - 연속 합",
      "item": "http://localhost:1313/posts/boj-5647/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "BOJ 5647 - 연속 합",
  "name": "BOJ 5647 - 연속 합",
  "description": "문제 링크\n(2024/7/17 기준) Diamond V\n문제 읽기 연속된 정수 구간 $Q$와 연속된 양의 정수 구간 $P$가 있습니다. 연속된 구간 $PQ$에 대하여, 구간 $Q$의 길이 $q$가 주어졌을 때, 구간 $P$의 합과 구간 $Q$의 합이 같을 때의 가능한 $p$가 몇 개나 있을지 세어봅시다.\n예시 $\\underbrace{9+10+11+12} _{P} = \\underbrace{13+14+15} _{Q}$는 $p=4$, $q=3$인 예시입니다.\n$\\underbrace{4+5+6+7+8} _{P} = \\underbrace{9+10+11} _{Q}$은 $p=5$, $q=3$인 예시입니다.\n풀이 먼저, $p\u0026gt;q$임을 캐치합시다. 구간 $P$는 항상 구간 $Q$의 왼쪽에 붙어있기 때문에, $p\\leq q$라면, 항상 구간 $P$의 합은 구간 $Q$의 합보다 작습니다.",
  "keywords": [
    "ps", "정수론", "수학", "백준", "boj", "5647"
  ],
  "articleBody": "문제 링크\n(2024/7/17 기준) Diamond V\n문제 읽기 연속된 정수 구간 $Q$와 연속된 양의 정수 구간 $P$가 있습니다. 연속된 구간 $PQ$에 대하여, 구간 $Q$의 길이 $q$가 주어졌을 때, 구간 $P$의 합과 구간 $Q$의 합이 같을 때의 가능한 $p$가 몇 개나 있을지 세어봅시다.\n예시 $\\underbrace{9+10+11+12} _{P} = \\underbrace{13+14+15} _{Q}$는 $p=4$, $q=3$인 예시입니다.\n$\\underbrace{4+5+6+7+8} _{P} = \\underbrace{9+10+11} _{Q}$은 $p=5$, $q=3$인 예시입니다.\n풀이 먼저, $p\u003eq$임을 캐치합시다. 구간 $P$는 항상 구간 $Q$의 왼쪽에 붙어있기 때문에, $p\\leq q$라면, 항상 구간 $P$의 합은 구간 $Q$의 합보다 작습니다. 따라서, $p\u003eq$여야만 두 구간의 합이 같을 수 있습니다.\n양의 정수 $n$이 구간 $P$의 오른쪽 끝이라고 합시다.\n구간 $Q$의 합은 당연히 양의 정수이므로, 구간 $P$의 합이 양의 정수가 되기 위해서는, $n$이 양의 정수여야 함이 자명합니다.\n구간 $P$의 합은, $\\underbrace{n+(n-1)+(n-2)+\\cdots+(n-p+1)} _{p\\text{ terms}}$이므로, $pn-\\frac{p(p-1)}{2}$로 정리할 수 있습니다.\n같은 방법으로, 구간 $Q$의 합은, $\\underbrace{(n+1)+(n+2)+\\cdots+(n+q)} _{q\\text{ terms}}$이므로, $qn+\\frac{q(q+1)}{2}$로 정리할 수 있습니다.\n두 합이 같아야 하므로, $pn-\\frac{p(p-1)}{2}=qn+\\frac{q(q+1)}{2}$로 놓고, 식을 조금 변형합시다.\n$(p-q)n=\\frac{p^2 + q^2}{2} - \\frac{p-q}{2}$, $p\u003eq$이므로, 양변을 $(p-q)$로 나누면, $n=\\frac{p^2 + q^2}{2(p-q)}-\\frac 1 2$입니다.\n$p^2 + q^2 = p^2 - q^2 + 2q^2 = (p+q)(p-q) + 2q^2$를 이용해서 다시 정리해주면,\n$n=\\frac{p+q-1}{2} + \\frac{q^2}{p-q}$가 됩니다.\n이를 만족하는 모든 $n$, $p$의 쌍을 찾아봅시다!\n$n$이 양의 정수이므로, $p$, $q$의 홀짝성(parity)에 따라 케이스를 나눠야 합니다.\n1-1. $p$는 홀수, $q$는 짝수 $p+q$와 $p-q$는 모두 홀수입니다.\n$\\frac{p+q-1}{2}$은 양의 정수이고, $\\frac{q^2}{p-q}$도 양의 정수여야 합니다.\n따라서, $(p-q) \\vert q^2$입니다.\n1-2. $p$는 홀수, $q$는 홀수 $p-q$와 $p+q$가 모두 짝수입니다.\n$\\frac{p+q-1}{2}$이 정수가 아니므로, $\\frac{q^2}{p-q}$가 $\\frac{2m-1}{2}$꼴이어야 합니다. (단, $m$은 양의 정수)\n따라서, $\\frac{q^2}{p-q} = \\frac{2q^2}{2(p-q)} = \\frac{1}{2} \\times \\frac{2q^2}{p-q}$로 변형할 수 있고, $(p-q) \\vert 2q^2$입니다.\n2-1. $p$는 짝수, $q$는 홀수 $p-q$와 $p+q$가 모두 홀수입니다.\n$\\frac{q^2}{p-q}$이 자연수여야 하므로, $(p-q) \\vert q^2$.\n약간의 관찰을 더 해봅시다.\n$p-q$가 홀수이므로, $q^2$의 $2$ 소인수들은 있으나 마나입니다($q$가 짝수이므로 반드시 $2$를 적어도 하나 소인수로 갖는데, $p-q$는 홀수이므로 $2$를 소인수로 가질 수 없습니다).\n$q=2^k \\times r$이라고 하면, $(p-q) \\vert r^2$입니다.\n2-2. $p$는 짝수, $q$는 짝수 $p-q$와 $p+q$가 모두 짝수입니다.\n$\\frac{p+q-1}{2}$이 정수가 아니므로, $\\frac{q^2}{p-q}$가 $\\frac{2m-1}{2}$꼴이어야 합니다. (단, $m$은 양의 정수)\n2-1. 에서 사용한 아이디어를 가져와서, $q^2 = 2^{2k} \\times r^2$이고, $p-q$는 $2^{2k+1} \\times s$꼴이어야 합니다. (단, $s$는 홀수)\n다시 정리해보면, $\\frac{q^2}{p-q} = \\frac 1 2 \\times \\frac{r^2}{s}$이므로, $s \\vert r^2$입니다.\n결론 위의 4가지 케이스를 정리해 봅시다.\n1-1. 1-2. 케이스를 정리해 보면, 1-1.에서 가능한 $p$의 개수는 $q$와 $q^2$가 모두 홀수이므로, $q^2$의 약수의 개수와 같다는 것을 알 수 있고, 1-2.에서 가능한 모든 $p-q$들은 1-1.에서 가능한 모든 $p-q$들에 $2$를 곱한 값이고, 이들은 서로 홀짝성이 다르기 때문에, 전부 서로 다른 정수임을 알 수 있습니다.\n따라서, $q$가 홀수일 때 가능한 $p$의 개수는 $q^2$의 약수의 개수의 $2$배가 됩니다.\n2-1. 2-2. 케이스도 정리해 보면, 2-1.에서의 $p-q$가 가질 수 있는 값이 $r^2$의 약수뿐이고, 2-2.에서 $s$가 가질 수 있는 값도 $r^2$의 약수뿐이니, 가능한 $p-q$와 $s$의 개수는 각각 $r^2$의 약수의 개수로 같습니다. 다만, 2-2.의 $p-q$는$s \\times 2^{2k+1}$이므로 2-1.에서의 $p-q$와 각각 다르고, 홀짝성도 다르므로, 전부 서로 다른 정수임을 알 수 있습니다.\n따라서, $q$가 짝수일 때 가능한 $p$의 개수는 $q=2^k \\times r$인 홀수 $r$에 대하여, $r^2$의 약수의 개수의 $2$배가 됩니다.\n1-1.~2-2.를 모두 일반화 시킬 수도 있습니다. $q$가 $2$로 나누어떨어지지 않을 때까지 나눈 수를 $q^{\\prime}$이라고 하면, $\\lbrace q^{\\prime} \\rbrace ^ 2$의 약수의 개수의 $2$배가 문제의 정답이 됩니다.\n구현은 에라토스테네스의 체를 쓰든 폴라드-로를 쓰든 넉넉하게 통과됩니다.\n참고로 저는 안전하게 폴라드-로를 사용했습니다.\n약수의 개수를 구하는 방법은… 중학교 수학 내용이니, 다들 아시길 바라며 넘어가겠습니다.\n후기 제가 처음으로 자력솔에 성공한 다이아몬드 문제입니다. 난이도 외에 어떠한 정보도 없이 스스로 해결한 문제라 더욱 뿌듯하네요.\n3일정도 시간이 걸렸고 (사실 요즘 ps를 잘 안 하긴 합니다.), 공책도 6장 넘게 사용했습니다.\n블로그에 올린 이유는 문제가 되게 재밌었기도 하고, 백준 메모에 $\\TeX$ 문법으로 남겨둔 수식도 많았고, 이미 다른 분이 블로그에 먼저 올리셨는데, 저와 접근이 조금 달라 보여서 올려봤습니다.\n읽어주셔서 감사합니다.\n",
  "wordCount" : "583",
  "inLanguage": "ko",
  "image": "http://localhost:1313/images/papermod-cover.png","datePublished": "2024-07-16T20:43:17+09:00",
  "dateModified": "2024-07-16T20:43:17+09:00",
  "author":{
    "@type": "Person",
    "name": "Aerae"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "http://localhost:1313/posts/boj-5647/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Aerae.zip",
    "logo": {
      "@type": "ImageObject",
      "url": "http://localhost:1313/favicon.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="http://localhost:1313/" accesskey="h" title="Aerae.zip (Alt + H)">Aerae.zip</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="http://localhost:1313/posts/" title="게시글">
                    <span>게시글</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/categories/" title="카테고리">
                    <span>카테고리</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/tags/" title="태그">
                    <span>태그</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="http://localhost:1313/">홈</a>&nbsp;»&nbsp;<a href="http://localhost:1313/posts/">Posts</a></div>
    <h1 class="post-title entry-hint-parent">
      BOJ 5647 - 연속 합
    </h1>
    <div class="post-meta"><span title='2024-07-16 20:43:17 +0900 KST'>7월 16, 2024</span>&nbsp;·&nbsp;3분&nbsp;·&nbsp;Aerae&nbsp;|&nbsp;<a href="https://github.com/aeraerae/aeraerae.github.io/tree/main/content/posts/boj-5647.md" rel="noopener noreferrer" target="_blank">Suggest Changes</a>

</div>
  </header> <div class="toc">
    <details >
        <summary accesskey="c" title="(Alt + C)">
            <span class="details">목차</span>
        </summary>

        <div class="inner"><ul>
                <li>
                    <a href="#%eb%ac%b8%ec%a0%9c-%ec%9d%bd%ea%b8%b0" aria-label="문제 읽기">문제 읽기</a><ul>
                        
                <li>
                    <a href="#%ec%98%88%ec%8b%9c" aria-label="예시">예시</a></li></ul>
                </li>
                <li>
                    <a href="#%ed%92%80%ec%9d%b4" aria-label="풀이">풀이</a><ul>
                        
                <li>
                    <a href="#1-1-p%eb%8a%94-%ed%99%80%ec%88%98-q%eb%8a%94-%ec%a7%9d%ec%88%98" aria-label="1-1. $p$는 홀수, $q$는 짝수">1-1. $p$는 홀수, $q$는 짝수</a></li>
                <li>
                    <a href="#1-2-p%eb%8a%94-%ed%99%80%ec%88%98-q%eb%8a%94-%ed%99%80%ec%88%98" aria-label="1-2. $p$는 홀수, $q$는 홀수">1-2. $p$는 홀수, $q$는 홀수</a></li>
                <li>
                    <a href="#2-1-p%eb%8a%94-%ec%a7%9d%ec%88%98-q%eb%8a%94-%ed%99%80%ec%88%98" aria-label="2-1. $p$는 짝수, $q$는 홀수">2-1. $p$는 짝수, $q$는 홀수</a></li>
                <li>
                    <a href="#2-2-p%eb%8a%94-%ec%a7%9d%ec%88%98-q%eb%8a%94-%ec%a7%9d%ec%88%98" aria-label="2-2. $p$는 짝수, $q$는 짝수">2-2. $p$는 짝수, $q$는 짝수</a></li>
                <li>
                    <a href="#%ea%b2%b0%eb%a1%a0" aria-label="결론">결론</a></li></ul>
                </li>
                <li>
                    <a href="#%ed%9b%84%ea%b8%b0" aria-label="후기">후기</a>
                </li>
            </ul>
        </div>
    </details>
</div>

  <div class="post-content"><p><a href="https://www.acmicpc.net/problem/5647">문제 링크</a><br>
(2024/7/17 기준) <span style="color: rgb(0, 158, 229);">Diamond V</span></p>
<img src="/images/kikuri/51.gif" width="100" height="100">
<h1 id="문제-읽기">문제 읽기<a hidden class="anchor" aria-hidden="true" href="#문제-읽기">#</a></h1>
<p>연속된 <strong>정수</strong> 구간 $Q$와 연속된 <strong>양의 정수</strong> 구간 $P$가 있습니다. 연속된 구간 $PQ$에 대하여, 구간 $Q$의 길이 $q$가 주어졌을 때, 구간 $P$의 합과 구간 $Q$의 합이 같을 때의 가능한 $p$가 몇 개나 있을지 세어봅시다.</p>
<h2 id="예시">예시<a hidden class="anchor" aria-hidden="true" href="#예시">#</a></h2>
<p>$\underbrace{9+10+11+12} _{P} = \underbrace{13+14+15} _{Q}$는 $p=4$, $q=3$인 예시입니다.</p>
<p>$\underbrace{4+5+6+7+8} _{P} = \underbrace{9+10+11} _{Q}$은 $p=5$, $q=3$인 예시입니다.</p>
<h1 id="풀이">풀이<a hidden class="anchor" aria-hidden="true" href="#풀이">#</a></h1>
<p>먼저, $p&gt;q$임을 캐치합시다. 구간 $P$는 항상 구간 $Q$의 왼쪽에 붙어있기 때문에, $p\leq q$라면, 항상 구간 $P$의 합은 구간 $Q$의 합보다 작습니다. 따라서, $p&gt;q$여야만 두 구간의 합이 같을 수 있습니다.</p>
<img src="/images/kikuri/12.png" width="100" height="100">
<p>양의 정수 $n$이 구간 $P$의 오른쪽 끝이라고 합시다.<br>
구간 $Q$의 합은 당연히 양의 정수이므로, 구간 $P$의 합이 양의 정수가 되기 위해서는, $n$이 양의 정수여야 함이 자명합니다.</p>
<p>구간 $P$의 합은, $\underbrace{n+(n-1)+(n-2)+\cdots+(n-p+1)} _{p\text{ terms}}$이므로, $pn-\frac{p(p-1)}{2}$로 정리할 수 있습니다.<br>
같은 방법으로, 구간 $Q$의 합은, $\underbrace{(n+1)+(n+2)+\cdots+(n+q)} _{q\text{ terms}}$이므로, $qn+\frac{q(q+1)}{2}$로 정리할 수 있습니다.</p>
<p>두 합이 같아야 하므로, $pn-\frac{p(p-1)}{2}=qn+\frac{q(q+1)}{2}$로 놓고, 식을 조금 변형합시다.<br>
$(p-q)n=\frac{p^2 + q^2}{2} - \frac{p-q}{2}$, $p&gt;q$이므로, 양변을 $(p-q)$로 나누면, $n=\frac{p^2 + q^2}{2(p-q)}-\frac 1 2$입니다.<br>
$p^2 + q^2 = p^2 - q^2 + 2q^2 = (p+q)(p-q) + 2q^2$를 이용해서 다시 정리해주면,<br>
$n=\frac{p+q-1}{2} + \frac{q^2}{p-q}$가 됩니다.<br>
이를 만족하는 모든 $n$, $p$의 쌍을 찾아봅시다!</p>
<img src="/images/kikuri/50.png" width="100" height="100">
<p>$n$이 양의 정수이므로, $p$, $q$의 홀짝성(parity)에 따라 케이스를 나눠야 합니다.</p>
<h2 id="1-1-p는-홀수-q는-짝수">1-1. $p$는 홀수, $q$는 짝수<a hidden class="anchor" aria-hidden="true" href="#1-1-p는-홀수-q는-짝수">#</a></h2>
<p>$p+q$와 $p-q$는 모두 홀수입니다.<br>
$\frac{p+q-1}{2}$은 양의 정수이고, $\frac{q^2}{p-q}$도 양의 정수여야 합니다.</p>
<p>따라서, $(p-q) \vert q^2$입니다.</p>
<h2 id="1-2-p는-홀수-q는-홀수">1-2. $p$는 홀수, $q$는 홀수<a hidden class="anchor" aria-hidden="true" href="#1-2-p는-홀수-q는-홀수">#</a></h2>
<p>$p-q$와 $p+q$가 모두 짝수입니다.<br>
$\frac{p+q-1}{2}$이 정수가 아니므로, $\frac{q^2}{p-q}$가 $\frac{2m-1}{2}$꼴이어야 합니다. (단, $m$은 양의 정수)</p>
<p>따라서, $\frac{q^2}{p-q} = \frac{2q^2}{2(p-q)} = \frac{1}{2} \times \frac{2q^2}{p-q}$로 변형할 수 있고, $(p-q) \vert 2q^2$입니다.</p>
<h2 id="2-1-p는-짝수-q는-홀수">2-1. $p$는 짝수, $q$는 홀수<a hidden class="anchor" aria-hidden="true" href="#2-1-p는-짝수-q는-홀수">#</a></h2>
<p>$p-q$와 $p+q$가 모두 홀수입니다.<br>
$\frac{q^2}{p-q}$이 자연수여야 하므로, $(p-q) \vert q^2$.</p>
<p>약간의 관찰을 더 해봅시다.<br>
$p-q$가 홀수이므로, $q^2$의 $2$ 소인수들은 있으나 마나입니다($q$가 짝수이므로 반드시 $2$를 적어도 하나 소인수로 갖는데, $p-q$는 홀수이므로 $2$를 소인수로 가질 수 없습니다).<br>
$q=2^k \times r$이라고 하면, $(p-q) \vert r^2$입니다.</p>
<h2 id="2-2-p는-짝수-q는-짝수">2-2. $p$는 짝수, $q$는 짝수<a hidden class="anchor" aria-hidden="true" href="#2-2-p는-짝수-q는-짝수">#</a></h2>
<p>$p-q$와 $p+q$가 모두 짝수입니다.<br>
$\frac{p+q-1}{2}$이 정수가 아니므로, $\frac{q^2}{p-q}$가 $\frac{2m-1}{2}$꼴이어야 합니다. (단, $m$은 양의 정수)</p>
<p><strong>2-1.</strong> 에서 사용한 아이디어를 가져와서, $q^2 = 2^{2k} \times r^2$이고, $p-q$는 $2^{2k+1} \times s$꼴이어야 합니다. (단, $s$는 <strong>홀수</strong>)</p>
<p>다시 정리해보면, $\frac{q^2}{p-q} = \frac 1 2 \times \frac{r^2}{s}$이므로, $s \vert r^2$입니다.</p>
<h2 id="결론">결론<a hidden class="anchor" aria-hidden="true" href="#결론">#</a></h2>
<p>위의 4가지 케이스를 정리해 봅시다.</p>
<p><strong>1-1. 1-2.</strong> 케이스를 정리해 보면, <b>1-1.</b>에서 가능한 $p$의 개수는 $q$와 $q^2$가 모두 홀수이므로, $q^2$의 약수의 개수와 같다는 것을 알 수 있고, <b>1-2.</b>에서 가능한 모든 $p-q$들은 <b>1-1.</b>에서 가능한 모든 $p-q$들에 $2$를 곱한 값이고, 이들은 서로 홀짝성이 다르기 때문에, 전부 서로 다른 정수임을 알 수 있습니다.</p>
<p>따라서, $q$가 홀수일 때 가능한 $p$의 개수는 $q^2$의 약수의 개수의 $2$배가 됩니다.</p>
<img src="/images/kikuri/34.png" width="100" height="100">
<p><strong>2-1. 2-2.</strong> 케이스도 정리해 보면, <b>2-1.</b>에서의 $p-q$가 가질 수 있는 값이 $r^2$의 약수뿐이고, <b>2-2.</b>에서 $s$가 가질 수 있는 값도 $r^2$의 약수뿐이니, 가능한 $p-q$와 $s$의 개수는 각각 $r^2$의 약수의 개수로 같습니다. 다만, <b>2-2.</b>의 $p-q$는$s \times 2^{2k+1}$이므로 <b>2-1.</b>에서의 $p-q$와 각각 다르고, 홀짝성도 다르므로, 전부 서로 다른 정수임을 알 수 있습니다.</p>
<p>따라서, $q$가 짝수일 때 가능한 $p$의 개수는 $q=2^k \times r$인 홀수 $r$에 대하여, $r^2$의 약수의 개수의 $2$배가 됩니다.</p>
<p><strong>1-1.</strong>~<b>2-2.</b>를 모두 일반화 시킬 수도 있습니다. $q$가 $2$로 나누어떨어지지 않을 때까지 나눈 수를 $q^{\prime}$이라고 하면, $\lbrace q^{\prime} \rbrace ^ 2$의 약수의 개수의 $2$배가 문제의 정답이 됩니다.</p>
<p>구현은 에라토스테네스의 체를 쓰든 폴라드-로를 쓰든 넉넉하게 통과됩니다.<br>
참고로 저는 안전하게 폴라드-로를 사용했습니다.</p>
<p>약수의 개수를 구하는 방법은&hellip; 중학교 수학 내용이니, 다들 아시길 바라며 넘어가겠습니다.</p>
<img src="/images/kikuri/31.png" width="100" height="100">
<h1 id="후기">후기<a hidden class="anchor" aria-hidden="true" href="#후기">#</a></h1>
<p>제가 처음으로 자력솔에 성공한 다이아몬드 문제입니다. 난이도 외에 어떠한 정보도 없이 스스로 해결한 문제라 더욱 뿌듯하네요.<br>
3일정도 시간이 걸렸고 (사실 요즘 ps를 잘 안 하긴 합니다.), 공책도 6장 넘게 사용했습니다.</p>
<p>블로그에 올린 이유는 문제가 되게 재밌었기도 하고, 백준 메모에 $\TeX$ 문법으로 남겨둔 수식도 많았고, 이미 다른 분이 블로그에 먼저 올리셨는데, 저와 접근이 조금 달라 보여서 올려봤습니다.</p>
<p>읽어주셔서 감사합니다.</p>
<img src="/images/kikuri/14.gif" width="100" height="100">


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="http://localhost:1313/tags/ps/">Ps</a></li>
      <li><a href="http://localhost:1313/tags/%EC%A0%95%EC%88%98%EB%A1%A0/">정수론</a></li>
      <li><a href="http://localhost:1313/tags/%EC%88%98%ED%95%99/">수학</a></li>
      <li><a href="http://localhost:1313/tags/%EB%B0%B1%EC%A4%80/">백준</a></li>
      <li><a href="http://localhost:1313/tags/boj/">Boj</a></li>
      <li><a href="http://localhost:1313/tags/5647/">5647</a></li>
    </ul>
<nav class="paginav">
  <a class="prev" href="http://localhost:1313/posts/boj-23048/">
    <span class="title">« 이전 페이지</span>
    <br>
    <span>BOJ 23048 - 자연수 색칠하기</span>
  </a>
  <a class="next" href="http://localhost:1313/posts/popcorn-brain/">
    <span class="title">다음 페이지 »</span>
    <br>
    <span>문해력 이슈 #1 - &#34;팝콘 브레인&#34;</span>
  </a>
</nav>

  </footer>
</article>
    </main>
    
<footer class="footer">
        <span>&copy; 2024 <a href="http://localhost:1313/">Aerae.zip</a></span> · 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>
